package com.ssafy.curtaincall.musical.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.ssafy.curtaincall.musical.dto.Musical;
import com.ssafy.curtaincall.musical.dto.MusicalLikes;
import com.ssafy.curtaincall.musical.dto.SearchCondition;
import com.ssafy.curtaincall.musical.mapper.MusicalMapper;

@Service
public class MusicalServiceImpl implements MusicalService {

	/*
	 * @Service 달았는지 확인
	 * 주석 상세히 달기
	 * Autowired 확인
	 * 
	 */
	
	@Autowired
	MusicalMapper mapper;
	
	//// 조회
	
	// 전체 목록 조회
	@Override
	public List<Musical> getlist() {
		return mapper.selectAllMusical();
	}
	
	// 개별 항목 조회
	@Override
	public Musical getMusical(int id) {
		return mapper.selectMusical(id);
	}
	
	// 조건별 조회
	@Override
	public List<Musical> getMusicalByCondition(SearchCondition condition) {
		return mapper.selectMusicalByCondition(condition);
	}
	
	
	//// 좋아요
	
	// 좋아요 등록
	@Override
	public void likeOn(MusicalLikes like) {
		if (mapper.checkLike(like) == 0) mapper.insertLike(like);		
	}
	
	//좋아요 해제
	@Override
	public void likeOff(MusicalLikes like) {
		if (mapper.checkLike(like) >= 1) mapper.deleteLike(like);	
	}
	

}
